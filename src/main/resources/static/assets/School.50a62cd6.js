import{i as r,k as $,l as U,e as y,h as p,b as l,w as o,u as D,F as V,a as s,o as g,j,c as F,t as P,d as C,m as A}from"./index.203b88e0.js";const E={class:"form-wrap"},M={class:"form-content"},R=C("\u67E5\u8BE2"),q=C("\u91CD\u7F6E"),G=["onClick"],H={class:"pagination-block"},O={__name:"School",setup(I){const N=A(),e=r({schoolName:"",argement:"",handleType:"",address:"",city:"",pageNum:1,pageSize:10});let m=r({schoolList:[]});const k=r({type:[{searchValue:null,createBy:"admin",dataName:null,createTime:"2022-04-08 14:52:41",updateBy:null,updateTime:null,remark:null,params:{},dictCode:104,dictSort:0,dictLabel:"985\u5DE5\u7A0B",dictValue:"985\u5DE5\u7A0B",dictType:"school_handle_type",cssClass:null,listClass:"default",isDefault:"N",status:"0",default:!1},{searchValue:null,createBy:"admin",dataName:null,createTime:"2022-04-08 14:52:46",updateBy:null,updateTime:null,remark:null,params:{},dictCode:105,dictSort:0,dictLabel:"211\u5DE5\u7A0B",dictValue:"211\u5DE5\u7A0B",dictType:"school_handle_type",cssClass:null,listClass:"default",isDefault:"N",status:"0",default:!1}]});$(()=>{i(e)});function S(n){console.log(n),N.push({path:`/schooldata/index/${m.schoolList[n.$index].id}`})}function v(){e.schoolName="",e.argement="",e.handleType="",e.address="",e.city=[],e.pageNum=1,e.pageSize=10}async function i(n){let t=await U(n);console.log(t),d.total=t.total,m.schoolList=t.rows}const d=r({total:0,small:!1,background:!1,disabled:!1}),z=n=>{e.pageSize=n,i(e),console.log(`${n} items per page`)},T=n=>{e.pageNum=n,i(e),console.log(`current page: ${n}`)};return(n,t)=>{const f=s("el-input"),u=s("el-form-item"),_=s("el-option"),h=s("el-select"),b=s("el-button"),w=s("el-form"),x=s("el-tooltip"),c=s("el-table-column"),L=s("el-table"),B=s("el-pagination");return g(),y(V,null,[p("div",E,[p("div",M,[l(w,{size:"large",inline:!0,model:e,"label-width":"92px"},{default:o(()=>[l(u,{label:"\u9662\u6821\u540D\u79F0"},{default:o(()=>[l(f,{modelValue:e.schoolName,"onUpdate:modelValue":t[0]||(t[0]=a=>e.schoolName=a),placeholder:"\u8BF7\u8F93\u5165\u9662\u6821\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(u,{label:"\u9662\u6821\u5C42\u6B21"},{default:o(()=>[l(h,{modelValue:e.argement,"onUpdate:modelValue":t[1]||(t[1]=a=>e.argement=a),placeholder:"\u8BF7\u9009\u62E9\u9662\u6821\u5C42\u6B21"},{default:o(()=>[l(_,{label:"\u666E\u901A\u672C\u79D1",value:"\u666E\u901A\u672C\u79D1"}),l(_,{label:"\u4E13\u79D1\uFF08\u9AD8\u804C\uFF09",value:"\u4E13\u79D1\uFF08\u9AD8\u804C\uFF09"})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u529E\u5B66\u7C7B\u578B"},{default:o(()=>[l(h,{modelValue:e.handleType,"onUpdate:modelValue":t[2]||(t[2]=a=>e.handleType=a),placeholder:"\u8BF7\u9009\u62E9\u529E\u5B66\u7C7B\u578B"},{default:o(()=>[(g(!0),y(V,null,j(k.type,a=>(g(),F(_,{label:a.dictLabel,value:a.dictValue},null,8,["label","value"]))),256))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"\u9662\u6821\u57CE\u5E02"},{default:o(()=>[l(f,{modelValue:e.city,"onUpdate:modelValue":t[3]||(t[3]=a=>e.city=a),placeholder:"\u8BF7\u8F93\u5165\u9662\u6821\u57CE\u5E02"},null,8,["modelValue"])]),_:1}),l(u,null,{default:o(()=>[l(b,{type:"primary",onClick:t[4]||(t[4]=a=>i(e))},{default:o(()=>[R]),_:1}),l(b,{onClick:t[5]||(t[5]=a=>v())},{default:o(()=>[q]),_:1})]),_:1})]),_:1},8,["model"])])]),l(L,{data:D(m).schoolList,style:{width:"100%"}},{default:o(()=>[l(c,{prop:"schoolName",label:"\u9662\u6821\u540D\u79F0",width:"180"},{default:o(a=>[l(x,{class:"box-item",effect:"dark",content:"\u70B9\u51FB\u67E5\u770B\u9662\u6821\u8BE6\u60C5",placement:"top"},{default:o(()=>[p("a",{style:{color:"#000"},href:"javascript:",onClick:J=>S(a)},P(a.row.schoolName),9,G)]),_:2},1024)]),_:1}),l(c,{prop:"schoolAddress",label:"\u5730\u5740",width:"700"}),l(c,{prop:"argement",label:"\u9662\u6821\u5C42\u6B21"}),l(c,{prop:"handleType",label:"\u529E\u5B66\u7C7B\u578B"})]),_:1},8,["data"]),p("div",H,[l(B,{currentPage:e.pageNum,"onUpdate:currentPage":t[6]||(t[6]=a=>e.pageNum=a),"page-size":e.pageSize,"onUpdate:page-size":t[7]||(t[7]=a=>e.pageSize=a),"page-sizes":[10,20,30,50],small:d.small,disabled:d.disabled,background:d.background,layout:"total, sizes, prev, pager, next, jumper",total:d.total,onSizeChange:z,onCurrentChange:T},null,8,["currentPage","page-size","small","disabled","background","total"])])],64)}}};export{O as default};
